# í˜„ì¬ ì‘ì—… ìƒíƒœ (AI ì—ì´ì „íŠ¸ìš©)

> **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-20
> **ë²„ì „**: 1.6

---

## ğŸ“Œ í˜„ì¬ ìƒíƒœ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| ì™„ë£Œëœ WP | M1 ê¸°ë°˜êµ¬ì¶•, M2 í•µì‹¬ê²°ì œíë¦„, M3 ì•Œë¦¼ì‹œìŠ¤í…œ, M4 ì†Œì†ê°, **M5 Phase 1** |
| ë‹¤ìŒ WP | **M5 Phase 2: ì•Œë¦¼ í…œí”Œë¦¿ ê´€ë¦¬** |
| ë¸”ë¡œì»¤ | ì†”ë¼í”¼ ì¹´ì¹´ì˜¤ ì±„ë„ ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ (M3 ì‹¤ë°œì†¡ ì „) |

---

## âœ… ë§ˆì§€ë§‰ ì™„ë£Œ ì‘ì—…

### WP-M5 Phase 1: ëŒ€ì‹œë³´ë“œ + ê³„ì¢Œì´ì²´ ê²°ì œ (2026-01-20 ì™„ë£Œ)

**ì½”ë“œ êµ¬í˜„**: Phase 1 ì „ì²´ ì™„ë£Œ

#### A. ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥ (M5-001 ~ M5-010)
- âœ… `/api/admin/stats` - í†µê³„ API (ì°¸ê°€í˜„í™©, ìˆ˜ì…/í™˜ë¶ˆ, ì¬ì°¸ì—¬ìœ¨, ì„¸ê·¸ë¨¼íŠ¸)
- âœ… `/app/admin/DashboardClient.tsx` - ëŒ€ì‹œë³´ë“œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
- âœ… ì›”ë³„ í†µê³„ í•„í„°ë§ (MonthPicker)
- âœ… ëª¨ì„ í˜„í™© í…Œì´ë¸”

#### B. ê³„ì¢Œì´ì²´ - ì‚¬ìš©ì ì¸¡ (M5-040 ~ M5-049)
- âœ… `/lib/transfer.ts` - ê³„ì¢Œì´ì²´ ìœ í‹¸ (ì…ê¸ˆìëª… ìƒì„±, ì…ê¸ˆê¸°í•œ ê³„ì‚°)
- âœ… `PaymentMethodSelector.tsx` - ê²°ì œ ë°©ì‹ ì„ íƒ UI (ê°„í¸ê²°ì œ/ê³„ì¢Œì´ì²´)
- âœ… `TransferInfo.tsx` - ê³„ì¢Œ ì •ë³´ í‘œì‹œ ì»´í¬ë„ŒíŠ¸
- âœ… `/api/registrations/transfer` - ê³„ì¢Œì´ì²´ ì‹ ì²­/í™˜ë¶ˆê³„ì¢Œ ì €ì¥ API
- âœ… `/meetings/[id]/transfer-pending` - ì…ê¸ˆëŒ€ê¸° ì•ˆë‚´ í˜ì´ì§€ + CopyButton
- âœ… `RefundAccountModal.tsx` - í™˜ë¶ˆ ê³„ì¢Œ ì…ë ¥ ëª¨ë‹¬
- âœ… `PaymentButton.tsx` ìˆ˜ì • - ê²°ì œ ë°©ì‹ ì„ íƒ ì—°ë™
- âœ… `/mypage/page.tsx` - ì…ê¸ˆëŒ€ê¸° ìƒíƒœ í‘œì‹œ (M5-046)
- âœ… `CancelModal.tsx` - ê³„ì¢Œì´ì²´ ê²°ì œê±´ ì·¨ì†Œ ì‹œ RefundAccountModal ì—°ë™ (M5-048)

#### C. ê³„ì¢Œì´ì²´ - ìš´ì˜ì ì¸¡ (M5-050 ~ M5-055)
- âœ… `/api/admin/transfers` - ì…ê¸ˆëŒ€ê¸°/í™˜ë¶ˆëŒ€ê¸° ëª©ë¡ ì¡°íšŒ API
- âœ… `/api/admin/registrations/confirm` - ì…ê¸ˆ í™•ì¸ API
- âœ… `/api/admin/registrations/refund-complete` - í™˜ë¶ˆ ì™„ë£Œ API
- âœ… `/app/admin/transfers` - ì…ê¸ˆê´€ë¦¬ í˜ì´ì§€ + TransfersClient
- âœ… ëŒ€ì‹œë³´ë“œì— ì…ê¸ˆëŒ€ê¸°/í™˜ë¶ˆëŒ€ê¸° ê±´ìˆ˜ í‘œì‹œ

#### D. ìë™ ì²˜ë¦¬ (M5-056 ~ M5-057)
- âœ… `/api/cron/transfer-timeout` - 24ì‹œê°„ ë¯¸ì…ê¸ˆ ìë™ ì·¨ì†Œ Cron
- âœ… ì…ê¸ˆ ê¸°í•œ 6ì‹œê°„ ì „ ê²½ê³  ì•Œë¦¼

**í…ŒìŠ¤íŠ¸ í˜„í™©**:

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|:----:|------|
| TypeScript íƒ€ì… ì²´í¬ | âœ… | `npx tsc --noEmit` ì˜¤ë¥˜ ì—†ìŒ |
| í”„ë¡œë•ì…˜ ë¹Œë“œ | âœ… | `npm run build` ì„±ê³µ (42 í˜ì´ì§€) |
| ESLint | âœ… | ì—ëŸ¬/ê²½ê³  0ê°œ |
| SC-M5 Phase 1 ì‹œë‚˜ë¦¬ì˜¤ | âœ… | 18/18 í†µê³¼ |

---

## ğŸ”œ ë‹¤ìŒ ì‘ì—…

### WP-M5 Phase 2: ì•Œë¦¼ í…œí”Œë¦¿ ê´€ë¦¬

**êµ¬í˜„ ì˜ˆì •** (M5-011 ~ M5-018):

- `notification_templates` í…Œì´ë¸” ìƒì„±
- `/app/admin/templates` - í…œí”Œë¦¿ ëª©ë¡/ìˆ˜ì • í™”ë©´
- ë¬¸êµ¬ ìˆ˜ì • ë° ë³€ìˆ˜ ì¹˜í™˜ ë¯¸ë¦¬ë³´ê¸°
- ë°œì†¡ on/off í† ê¸€
- ë°œì†¡ ì‹œì  ë³€ê²½ ê¸°ëŠ¥

### WP-M5 Phase 3-4:
- Phase 3: ê¶Œí•œ ê´€ë¦¬ (ìš´ì˜ìë³„ ê¶Œí•œ ì„ íƒì  ë¶€ì—¬)
- Phase 4: ìš”ì²­í•¨ & ë°°ë„ˆ ê´€ë¦¬

### M3 ì‹¤ë°œì†¡ ì „ í•„ìš” ì‘ì—… (ì˜íƒ ë‹´ë‹¹)

1. **ì†”ë¼í”¼ ì„¤ì •**
   - [x] ì†”ë¼í”¼ ê³„ì • ìƒì„±
   - [x] API í‚¤ ë°œê¸‰ â†’ `.env.local`ì— ì¶”ê°€ ì™„ë£Œ
   - [x] ì¶©ì „ (1ë§Œì›)
   - [x] ë°œì‹ ë²ˆí˜¸ ë“±ë¡ (180ì¼ í›„ ì¬ì¸ì¦)
   - [ ] ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ ì±„ë„ ìŠ¹ì¸ ëŒ€ê¸° ì¤‘
   - [ ] ì•Œë¦¼í†¡ í…œí”Œë¦¿ ë“±ë¡ (ì±„ë„ ìŠ¹ì¸ í›„)

---

## ğŸŸ¢ í•´ê²°ëœ ì´ìŠˆ

| ì´ìŠˆ | ì›ì¸ | í•´ê²° |
|------|------|------|
| RLS ë¬´í•œ ì¬ê·€ | policy ë‚´ ìê¸° ì°¸ì¡° | `auth.uid() = id` ë‹¨ìˆœí™” |
| í¬íŠ¸ì› Store ID ì˜¤ë¥˜ | V1 ì½”ë“œ ì‚¬ìš© | V2 Store IDë¡œ ë³€ê²½ |
| logger.startTimer íƒ€ì… | ë°˜í™˜ íƒ€ì… ë¯¸ì •ì˜ | TimerResult ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€ |
| AUTH_FORBIDDEN ë¯¸ì¡´ì¬ | ErrorCode ë¯¸ì •ì˜ | 1009 ì½”ë“œ ì¶”ê°€ |
| RPC í•¨ìˆ˜ ëˆ„ë½ | schema.sql ë¯¸í¬í•¨ | get_dormant_risk_users, adjust_waitlist_positions ì¶”ê°€ |
| ê³„ì¢Œì´ì²´ ìœ„ì¹˜ í˜¼ë€ | M2 ì™„ë£Œ í›„ ì¶”ê°€ | M5ë¡œ ì´ë™í•˜ì—¬ ì •ë¦¬ |
| M5-046 ë§ˆì´í˜ì´ì§€ ì…ê¸ˆëŒ€ê¸° | ë¯¸êµ¬í˜„ | mypageì— pending_transfer í‘œì‹œ ì¶”ê°€ |
| M5-048 ì·¨ì†Œì‹œ í™˜ë¶ˆê³„ì¢Œ | ë¯¸êµ¬í˜„ | CancelModalì— RefundAccountModal ì—°ë™ |

---

## ğŸŸ¡ ì•Œë ¤ì§„ ì£¼ì˜ì‚¬í•­

1. **í¬íŠ¸ ì¶©ëŒ**: 3000 ì‚¬ìš© ì¤‘ì´ë©´ 3001/3003ìœ¼ë¡œ ìë™ ë³€ê²½ â†’ Redirect URI ë“±ë¡ í•„ìš”
2. **PC ê²°ì œ ì œí•œ**: ì¹´ì¹´ì˜¤í˜ì´ PCì—ì„œ QR ìŠ¤ìº” í•„ìš”, ëª¨ë°”ì¼ì€ ìë™ ì—°ê²°
3. **Mock ì•Œë¦¼**: ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì‹¤ì œ ë°œì†¡ ì—†ì´ ë¡œê·¸ë§Œ ê¸°ë¡
4. **ê³„ì¢Œì´ì²´ ì •ì› ê´€ë¦¬**: pending_transfer ìƒíƒœì—ì„œ ì´ë¯¸ ì •ì› ì°¨ê°ë¨ (ê¸°ì¡´ confirmedì™€ ë‹¤ë¦„)
5. **200ì¤„ ì´ˆê³¼ íŒŒì¼**: ì•½ 30ê°œ íŒŒì¼ì´ 200ì¤„ ì´ˆê³¼ (ìµœëŒ€ 448ì¤„) - ê¶Œì¥ì‚¬í•­ì´ë‚˜ ê¸°ëŠ¥ìƒ ë¬¸ì œ ì—†ìŒ

---

## ğŸ“ ìµœê·¼ ìˆ˜ì •/ì¶”ê°€ íŒŒì¼

### M5 Phase 1 êµ¬í˜„ (2026-01-20)

**API Routes:**
- `src/app/api/admin/stats/route.ts` - ëŒ€ì‹œë³´ë“œ í†µê³„ API
- `src/app/api/admin/transfers/route.ts` - ì…ê¸ˆëŒ€ê¸°/í™˜ë¶ˆëŒ€ê¸° ëª©ë¡
- `src/app/api/admin/registrations/confirm/route.ts` - ì…ê¸ˆ í™•ì¸
- `src/app/api/admin/registrations/refund-complete/route.ts` - í™˜ë¶ˆ ì™„ë£Œ
- `src/app/api/registrations/transfer/route.ts` - ê³„ì¢Œì´ì²´ ì‹ ì²­/í™˜ë¶ˆê³„ì¢Œ
- `src/app/api/cron/transfer-timeout/route.ts` - 24ì‹œê°„ ìë™ ì·¨ì†Œ

**Pages:**
- `src/app/admin/DashboardClient.tsx` - ëŒ€ì‹œë³´ë“œ í´ë¼ì´ì–¸íŠ¸
- `src/app/admin/transfers/page.tsx` - ì…ê¸ˆê´€ë¦¬ í˜ì´ì§€
- `src/app/admin/transfers/TransfersClient.tsx` - ì…ê¸ˆê´€ë¦¬ í´ë¼ì´ì–¸íŠ¸
- `src/app/meetings/[id]/transfer-pending/page.tsx` - ì…ê¸ˆëŒ€ê¸° ì•ˆë‚´
- `src/app/meetings/[id]/transfer-pending/CopyButton.tsx` - ë³µì‚¬ ë²„íŠ¼

**Components:**
- `src/components/PaymentMethodSelector.tsx` - ê²°ì œ ë°©ì‹ ì„ íƒ
- `src/components/TransferInfo.tsx` - ê³„ì¢Œ ì •ë³´ í‘œì‹œ
- `src/components/RefundAccountModal.tsx` - í™˜ë¶ˆ ê³„ì¢Œ ëª¨ë‹¬

**Modified:**
- `src/components/PaymentButton.tsx` - ê²°ì œ ë°©ì‹ ì„ íƒ ì—°ë™
- `src/components/CancelModal.tsx` - ê³„ì¢Œì´ì²´ í™˜ë¶ˆê³„ì¢Œ ì—°ë™ (M5-048)
- `src/app/mypage/page.tsx` - ì…ê¸ˆëŒ€ê¸° í‘œì‹œ (M5-046)
- `src/app/admin/layout.tsx` - ì…ê¸ˆí™•ì¸ ë©”ë‰´ ì¶”ê°€

**Utilities:**
- `src/lib/transfer.ts` - ê³„ì¢Œì´ì²´ ìœ í‹¸ í•¨ìˆ˜

---

## ğŸ”— ì°¸ì¡° ë¬¸ì„œ

- [WP-M5 ìš´ì˜ìë„êµ¬ + ê³„ì¢Œì´ì²´](/roadmap/work-packages/WP-M5-ìš´ì˜ìë„êµ¬.md) - ê³„ì¢Œì´ì²´ í†µí•©
- [WP-M2 í•µì‹¬ê²°ì œíë¦„](/roadmap/work-packages/WP-M2-í•µì‹¬ê²°ì œíë¦„.md) - í¬íŠ¸ì› ê²°ì œ
- [SC-M5 ì‹œë‚˜ë¦¬ì˜¤](/roadmap/scenarios/SC-M5-ìš´ì˜ìë„êµ¬.md) - M5-040~057 ê³„ì¢Œì´ì²´ ì‹œë‚˜ë¦¬ì˜¤
- [milestones.md](/roadmap/milestones.md) - ì „ì²´ ë§ˆì¼ìŠ¤í†¤ (v1.4)
- [ì™¸ë¶€ ì„œë¹„ìŠ¤ ì„¤ì •](/docs/external-services.md)
- [í™˜ê²½ ë³€ìˆ˜](/docs/env-variables.md)

---

## í™˜ê²½ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| Next.js | 14.2.35 |
| Supabase | njaavwosjwndtwnjovac |
| í¬íŠ¸ì› | V2 API |
| ì†”ë¼í”¼ | API í‚¤ ì„¤ì • ì™„ë£Œ, ì¹´ì¹´ì˜¤ ì±„ë„ ìŠ¹ì¸ ëŒ€ê¸° |
| ë°°í¬ | ë¯¸ë°°í¬ (ê°œë°œ ì¤‘) |
| DB ìŠ¤í‚¤ë§ˆ | v1.2.0 (ê³„ì¢Œì´ì²´ ì§€ì›) |
