# 지독해 출시 전 체크리스트

> **작성일:** 2026-01-29
> **현재 상태:** M1~M9 코드 완료, MX-Bugfix 완료
> **예상 소요시간:** 외부 서비스 설정 1~2시간, 테스트 2~3시간

---

## 준비물

시작하기 전에 다음 정보가 필요합니다:

| 항목 | 확인 |
|------|------|
| Supabase 프로젝트 URL 및 키 | 있음 |
| 포트원 V2 API 키 | 있음 |
| 솔라피 API 키 | 있음 |
| 카카오 비즈니스 채널 ID | 확인 필요 |
| 테스트용 휴대폰 번호 | 본인 번호 사용 |

---

## 1. 외부 서비스 설정

### 1.1 Supabase (DB/인증)

**이미 완료된 항목:**
- [x] 프로젝트 생성
- [x] `schema-complete.sql` 실행 (통합 스키마)

**해야 할 일:**

1. **테스트 계정 생성** (2장 참조)
   - Supabase Dashboard > Authentication > Users
   - 이메일/비밀번호로 3개 계정 생성

2. **프로덕션 환경변수 확인**
   - Settings > API에서 Project URL과 anon key 확인
   - Settings > API > service_role key 확인 (비밀로 유지!)

---

### 1.2 포트원 (결제)

**이미 완료된 항목:**
- [x] 가맹점 등록
- [x] API 키 발급 (V2)

**해야 할 일:**

1. **테스트 결제 확인**
   - 포트원 관리자 > 결제 연동 > 테스트 모드 확인
   - 카카오페이 테스트 결제 진행 (실제 결제 안 됨)

2. **프로덕션 전환 전**
   - 모든 테스트 완료 후 실결제 모드로 전환

---

### 1.3 솔라피 (알림톡)

**이미 완료된 항목:**
- [x] 계정 생성
- [x] API 키 발급

**해야 할 일:**

1. **카카오 비즈니스 채널 승인 확인**
   - 솔라피 > 알림톡 > 카카오 비즈니스 채널 연동
   - 승인까지 1~3일 소요될 수 있음

2. **알림톡 템플릿 등록** (채널 승인 후)

   DB에 저장된 템플릿 목록 (`notification_templates` 테이블):

   | 코드 | 용도 | 우선순위 |
   |------|------|----------|
   | `REMINDER_3D` | 3일 전 리마인드 | 높음 |
   | `REMINDER_1D` | 1일 전 리마인드 | 높음 |
   | `REMINDER_0D` | 당일 리마인드 | 높음 |
   | `WAITLIST_AVAILABLE` | 대기자 자리 발생 | 높음 |
   | `TRANSFER_PENDING` | 입금대기 안내 | 높음 |
   | `TRANSFER_CONFIRMED` | 입금확인 완료 | 높음 |
   | `TRANSFER_EXPIRED` | 입금기한 만료 | 중간 |
   | `WELCOME` | 신규회원 환영 | 낮음 |
   | `POST_MEETING` | 모임 후 피드백 | 낮음 |

3. **테스트 발송**
   - 본인 휴대폰 번호로 테스트 메시지 발송
   - 솔라피 대시보드에서 발송 내역 확인

---

### 1.4 Vercel (배포)

**해야 할 일:**

1. **프로젝트 연결**
   ```bash
   # Vercel CLI로 연결 (선택)
   npx vercel link
   ```
   또는 Vercel 대시보드에서 GitHub 저장소 연결

2. **환경변수 설정** (Vercel > Settings > Environment Variables)

   | 변수명 | 설명 | 비밀? |
   |--------|------|-------|
   | `NEXT_PUBLIC_SUPABASE_URL` | Supabase 프로젝트 URL | 아니오 |
   | `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Supabase 익명 키 | 아니오 |
   | `SUPABASE_SERVICE_ROLE_KEY` | Supabase 서비스 역할 키 | **예** |
   | `PORTONE_API_KEY` | 포트원 API 키 | **예** |
   | `PORTONE_API_SECRET` | 포트원 API 시크릿 | **예** |
   | `NEXT_PUBLIC_PORTONE_STORE_ID` | 포트원 스토어 ID | 아니오 |
   | `SOLAPI_API_KEY` | 솔라피 API 키 | **예** |
   | `SOLAPI_API_SECRET` | 솔라피 API 시크릿 | **예** |
   | `SOLAPI_SENDER_NUMBER` | 발신 번호 (010-XXXX-XXXX) | **예** |

3. **배포 후**
   - 커스텀 도메인 연결 (있는 경우)
   - Supabase > Authentication > URL Configuration에서 Site URL 업데이트
   - Redirect URLs에 Vercel 도메인 추가

---

## 2. 테스트 계정 생성 (Supabase)

Supabase Dashboard > Authentication > Users에서 생성

| 역할 | 이메일 | 비밀번호 | users.role 설정 |
|------|--------|----------|-----------------|
| 최고관리자 | super@test.com | test1234 | `super_admin` |
| 운영자 | admin@test.com | test1234 | `admin` |
| 일반회원 | member@test.com | test1234 | `member` |

**role 변경 방법:**
```sql
UPDATE users SET role = 'super_admin' WHERE email = 'super@test.com';
UPDATE users SET role = 'admin' WHERE email = 'admin@test.com';
```

### 2.1 테스트 데이터 생성 (더미데이터)

> 테스트 계정 생성 후, 아래 SQL을 실행하면 다양한 상태의 모임/등록/배너 데이터가 생성됩니다.

**생성:** `jidokhae/supabase/test-seed-data.sql` 실행
**삭제:** `jidokhae/supabase/test-seed-cleanup.sql` 실행 (프로덕션 배포 전 필수)

| 데이터 | 내용 | 테스트 용도 |
|--------|------|-------------|
| 모임 5개 | 예정/마감임박/마감/종료/먼미래 | 신청, 대기, 환불, 참여완료 |
| 등록 | confirmed, pending_transfer, completed | 마이페이지, 입금확인, 취소 |
| 대기자 1명 | member@test.com | 대기 취소 테스트 |
| 배너 3개 | 활성 2개, 비활성 1개 | 배너 관리 테스트 |
| 요청함 2개 | 미답변 1개, 답변완료 1개 | 요청함 테스트 |

---

## 3. 기능 테스트

> **테스트 순서:** 로그인 → 더미데이터 확인 → 각 기능 테스트
> **테스트 계정:** `member@test.com` (일반), `admin@test.com` (운영자), `super@test.com` (최고관리자)

### 3.1 인증 (Auth)
- [ ] 이메일 회원가입 → 새 이메일로 가입 후 확인 메일 클릭
- [ ] 이메일 로그인/로그아웃 → `member@test.com` / `test1234`
- [ ] 카카오 로그인 (Supabase에서 카카오 Provider 설정 필요)
- [ ] 프로필 완성 페이지 동작

### 3.2 모임 조회
- [ ] 홈 화면 모임 목록 표시 → `[TEST]` 모임 5개 확인
- [ ] 모임 상세 페이지 표시 → 아무 모임 클릭
- [ ] 모임 상태 뱃지 → `2월 2주차(마감임박)`, `2월 독서토론(마감)` 확인
- [ ] 환불 규정 표시 → 모임 상세에서 "환불 규정" 펼치기

### 3.3 결제 (카드 - 카카오페이)
- [ ] 결제 모달 열기 → `[TEST] 3월 독서토론` 신청 클릭
- [ ] 카카오페이 선택 후 결제 진행 → 테스트 모드에서 진행
- [ ] 결제 완료 후 등록 상태 `confirmed`
- [ ] 마이페이지에서 확정 내역 확인

### 3.4 결제 (계좌이체)
- [ ] 계좌이체 탭 선택 → `[TEST] 2월 1주차` 신청 시 계좌이체 탭
- [ ] 입금자명 자동 생성 (MMDD_이름) 확인
- [ ] 계좌번호 복사 버튼 클릭
- [ ] 신청 완료 후 마이페이지에서 `입금대기` 상태 확인
- [ ] 관리자 입금 확인 후 `confirmed` 전환 → `/admin/transfers`에서

### 3.5 대기자 기능
- [ ] 정원 초과 시 대기 신청 → `[TEST] 2월 독서토론 (마감)` 클릭
- [ ] 대기 순번 표시 → `member@test.com`이 1번 대기자
- [ ] **대기 취소 버튼 동작** → 모임 상세에서 "대기 취소" 클릭
- [ ] 대기 취소 시 순번 재정렬 확인

### 3.6 취소/환불
- [ ] 확정 상태에서 취소 요청 → `[TEST] 2월 1주차` 확정 후 취소
- [ ] 환불 규정에 따른 금액 계산 표시 확인
- [ ] 카드결제: 자동 환불 처리
- [ ] 계좌이체: 환불 계좌 입력 모달 확인
- [ ] **입금대기 취소** → `admin@test.com`의 `[TEST] 3월 독서토론` 입금대기 취소

### 3.7 마이페이지
- [ ] 예정된 모임 표시 → `member@test.com` 로그인 후 `/mypage`
- [ ] 확정/대기/입금대기 상태 구분 확인
- [ ] **참여 완료 섹션** → `[TEST] 1월 4주차 (종료)` 표시 확인
- [ ] 칭찬하기/후기쓰기 버튼 확인
- [ ] 티켓 보관함 → `/mypage/tickets`

### 3.8 칭찬하기
- [ ] 참여 완료 모임에서 칭찬하기 → `[TEST] 1월 4주차` 칭찬하기 클릭
- [ ] 함께 참여한 회원 목록 표시
- [ ] 칭찬 메시지 선택 및 전송
- [ ] 참여 완료 처리 확인

### 3.9 후기 작성
- [ ] 후기 작성 페이지 → `[TEST] 1월 4주차` 후기쓰기 클릭
- [ ] 후기 저장
- [ ] 공개/비공개 설정

---

## 4. 관리자 기능 테스트

> **테스트 계정:** `admin@test.com` (운영자), `super@test.com` (최고관리자)

### 4.1 대시보드 (`/admin`)
- [ ] 통계 카드 표시 → 참가 현황, 수입/환불 등
- [ ] 월별 필터 동작

### 4.2 입금 관리 (`/admin/transfers`)
- [ ] 입금대기 목록 표시 → `admin@test.com`의 `[TEST] 3월 독서토론` 표시
- [ ] **모임별 필터** → 드롭다운에서 모임 선택 시 필터링
- [ ] 입금 확인 버튼 → 클릭 시 `confirmed` 전환
- [ ] 확인 후 알림톡 발송 (설정 완료 시)

### 4.3 모임 관리 (`/admin/meetings`)
- [ ] 모임 생성 → 새 모임 추가
- [ ] 모임 수정 → `[TEST]` 모임 수정
- [ ] 모임 상태 변경 → 마감 처리

### 4.4 배너 관리 (`/admin/banners`)
- [ ] 배너 목록 → `[TEST]` 배너 3개 표시
- [ ] 배너 수정/삭제
- [ ] 순서 변경 (드래그앤드롭)
- [ ] **모바일 확인** → F12 > 360px에서 카드 레이아웃

### 4.5 권한 관리 (`/admin/permissions`)
- [ ] `super@test.com`에만 메뉴 표시 확인
- [ ] `admin@test.com` 권한 체크박스 토글

### 4.6 알림 템플릿 (`/admin/templates`)
- [ ] 템플릿 목록 표시 (17개)
- [ ] 템플릿 수정 테스트

### 4.7 요청함 (`/admin/requests`)
- [ ] `[TEST]` 요청 2개 표시
- [ ] 미답변 건에 답변 작성

---

## 5. 알림톡 테스트

### 5.1 사전 준비
- [ ] 카카오 비즈니스 채널 승인 확인
- [ ] 솔라피에서 알림톡 템플릿 등록
- [ ] 템플릿 검수 승인 (카카오)

### 5.2 발송 테스트 (본인 번호로)
- [ ] 모임 신청 완료 알림
- [ ] 입금대기 안내 알림
- [ ] 입금확인 완료 알림
- [ ] 모임 리마인드 알림 (수동 트리거 또는 Cron)

### 5.3 Cron 작업 확인
| Cron | 용도 | 엔드포인트 |
|------|------|-----------|
| 리마인드 | D-3, D-1, D-0 알림 | `/api/cron/reminder` |
| 입금대기 만료 | 24시간 미입금 자동취소 | `/api/cron/transfer-timeout` |
| 대기자 알림 | 자리 발생 시 알림 | `/api/cron/waitlist` |
| 모임 후 피드백 | D+3 피드백 요청 | `/api/cron/post-meeting` |
| 자동 참여완료 | D+7 자동 완료 처리 | `/api/cron/auto-complete` |

---

## 6. UI/UX 테스트

### 6.1 반응형
- [ ] 모바일 (360px) - 레이아웃 정상
- [ ] 태블릿 (768px) - 2열 그리드
- [ ] 데스크톱 (1024px+) - 3열 그리드

### 6.2 애니메이션
- [ ] 모임 카드 Stagger 효과
- [ ] 카드 Hover 효과
- [ ] 결제 완료 Confetti
- [ ] 배지 획득 애니메이션

### 6.3 디자인 시스템 (v3.3)

**테마 시스템 확인:**
- [ ] 기본 테마가 **Electric**인가?
- [ ] 테마 토글이 사이드바 맨 아래에 있는가?
- [ ] 플로팅 토글 버튼이 없는가?

**Electric 테마 색상:**
| 항목 | 색상코드 | 확인 |
|------|----------|------|
| Primary (CTA) | `#0047FF` (Cobalt Blue) | [ ] |
| Accent | `#CCFF00` (Acid Lime) | [ ] |
| 배경 | `#F8FAFC` | [ ] |

**Warm 테마 색상:**
| 항목 | 색상코드 | 확인 |
|------|----------|------|
| Primary | `#0F172A` (Deep Navy) | [ ] |
| Accent | `#EA580C` (Burnt Orange) | [ ] |
| 배경 | `#F5F5F0` (Warm Sand) | [ ] |

**아이콘 및 폰트:**
- [ ] 콩 아이콘이 KongIcon SVG로 표시됨 (이모지 아님)
- [ ] Electric: 헤드라인이 고딕체 (Outfit/Noto Sans KR)
- [ ] Warm: 헤드라인이 명조체 (Noto Serif KR)
- [ ] 본문: 양쪽 테마 모두 고딕체 (Noto Sans KR)

---

## 7. 배포 후 확인

### 7.1 기본 동작
- [ ] 홈페이지 로드
- [ ] 로그인/로그아웃
- [ ] 모임 조회

### 7.2 결제 (프로덕션)
- [ ] 테스트 결제 진행
- [ ] 환불 처리

### 7.3 알림
- [ ] 실제 알림톡 발송 확인

### 7.4 모니터링
- [ ] Vercel 로그 확인
- [ ] Supabase 로그 확인
- [ ] 에러 알림 설정 (선택)

---

## 8. 운영 준비

### 8.1 데이터 준비
- [ ] 실제 모임 데이터 등록
- [ ] 배너 이미지 등록
- [ ] 환불 정책 확인

### 8.2 운영자 교육
- [ ] 관리자 페이지 사용법
- [ ] 입금 확인 프로세스
- [ ] 문의 응대 방법

### 8.3 회원 안내
- [ ] 서비스 오픈 공지
- [ ] 사용 가이드 (필요시)

---

## 빠른 참조: 현재 미완료 항목 요약

### 외부 서비스 (우선순위 높음)
| 항목 | 상태 | 소요시간 |
|------|------|----------|
| 카카오 비즈니스 채널 승인 | 확인 필요 | 승인 대기 |
| 솔라피 알림톡 템플릿 등록 | 미완료 | 30분 |
| Vercel 배포 및 환경변수 설정 | 미완료 | 30분 |
| 카카오 로그인 Provider 설정 | 미완료 | 15분 |

### 테스트 (우선순위 높음)
| 항목 | 상태 | 소요시간 |
|------|------|----------|
| 테스트 계정 생성 (3개) | 미완료 | 10분 |
| 테스트 데이터 생성 (SQL) | 미완료 | 5분 |
| 전체 기능 테스트 | 미완료 | 2시간 |
| 알림톡 발송 테스트 | 미완료 | 15분 |

### 운영 준비 (출시 직전)
| 항목 | 상태 | 소요시간 |
|------|------|----------|
| 실제 모임 데이터 입력 | 미완료 | 30분 |
| 배너 이미지 준비 | 미완료 | 30분 |
| 테스트 데이터 삭제 | - | 5분 |
| 오픈 공지 준비 | 미완료 | - |

---

## 트러블슈팅

### 자주 발생하는 문제

**Q: 로그인이 안 됩니다**
- Supabase > Authentication > URL Configuration에서 Site URL과 Redirect URLs 확인
- 로컬 개발 시 `http://localhost:3000` 포함 확인

**Q: 결제 모달이 열리지 않습니다**
- 브라우저 콘솔에서 포트원 SDK 로드 확인
- `NEXT_PUBLIC_PORTONE_STORE_ID` 환경변수 확인

**Q: 알림톡이 발송되지 않습니다**
- 솔라피 대시보드에서 잔액 확인
- 발신번호가 등록되어 있는지 확인
- 알림톡 템플릿 검수 승인 상태 확인

**Q: 테스트 데이터가 보이지 않습니다**
- `[TEST]`로 시작하는 데이터 확인
- 테스트 계정으로 로그인했는지 확인
- `test-seed-data.sql` 실행 여부 확인

---

## 연락처

문제 발생 시 참고:
- Supabase: https://supabase.com/docs
- 포트원: https://developers.portone.io
- 솔라피: https://developers.solapi.com

---

**문서 작성:** Claude
**최종 수정:** 2026-01-29
**디자인 시스템 버전:** v3.3 (Electric/Warm 듀얼 테마)
