# Work Package: M15 - Meeting Management (모임 관리)

---

**문서 버전:** 1.0
**작성일:** 2026-01-28
**Milestone:** M15
**예상 기간:** 2주
**선행 조건:** M14 완료 (결제 상태 연동)

---

## 1. 개요

모임 생성부터 종료 후 정리까지 전체 라이프사이클을 관리하는 백오피스 기능을 구축합니다. 운영자가 반복적인 모임 생성, 참가자 관리, 노쇼 처리를 효율적으로 수행할 수 있게 합니다.

**핵심 목표:**
- 모임 CRUD (생성/조회/수정/삭제) + 복제
- 참가자 명단 및 출석부 관리
- 강제 신청/취소 (현장 현금 결제 등 예외 처리)
- 노쇼 처리 및 대기자 관리

**성공 기준:**
- 다음 주 정기모임 생성 **5분 이내**
- 모임 복제로 반복 설정 시간 단축
- 모임 종료 후 노쇼 처리 및 정리 **10분 이내**

---

## 2. Phase 구성 개요

```
[M14 완료: 결제 운영]
    |
    v
[Phase 15.1] 모임 목록 + 필터링
    |
    v
[Phase 15.2] 모임 생성 + 복제
    |
    v
[Phase 15.3] 참가자 명단 + 출석부
    |
    v
[Phase 15.4] 강제 신청/취소 + 노쇼 처리
    |
    v
[Phase 15.5] 대기자 관리
    |
    v
[M15 완료] -> M16 시작 가능
```

---

## 3. Phase 상세

### Phase 15.1: 모임 목록 + 필터링

**목표:** 운영자가 모든 모임을 한눈에 파악하고 원하는 모임을 빠르게 찾을 수 있도록 함

**예상 소요:** 2~3일

#### 작업 목록

| # | 작업 | 산출물 | 완료 기준 |
|---|------|--------|----------|
| 15.1.1 | 모임 목록 페이지 생성 | `/admin/meetings/page.tsx` | 모든 모임이 테이블 형태로 표시 |
| 15.1.2 | 상태별 필터 구현 | FilterChips 컴포넌트 | 예정/진행중/완료 필터 동작 |
| 15.1.3 | 지역별 필터 구현 | Select 컴포넌트 | 경주/포항 필터 동작 |
| 15.1.4 | 유형별 필터 구현 | Select 컴포넌트 | 정기/토론 필터 동작 |
| 15.1.5 | 모임 검색 기능 | SearchInput 컴포넌트 | 모임명 검색 동작 |
| 15.1.6 | 정렬 기능 | TableHeader 정렬 | 날짜순/참가자순 정렬 |
| 15.1.7 | 페이지네이션 | Pagination 컴포넌트 | 20개 단위 페이지네이션 |

#### 모임 목록 테이블 구조

```typescript
// 컬럼 구조
interface MeetingListColumn {
  id: string;
  title: string;
  meeting_type: 'regular' | 'discussion';
  datetime: string;
  location: string;
  capacity: number;
  current_participants: number;
  status: 'open' | 'closed' | 'cancelled';
  pending_count: number;  // 입금대기 수
}
```

#### UI 레이아웃

```
+----------------------------------------------------------+
| 모임 관리                          [+ 새 모임 만들기]      |
+----------------------------------------------------------+
| [예정] [진행중] [완료]  | 지역: [전체 v] | 유형: [전체 v]  |
| [모임명 검색...]                                          |
+----------------------------------------------------------+
| 날짜 v | 모임명 | 유형 | 장소 | 참가자 | 상태 | 액션      |
+----------------------------------------------------------+
| 1/30   | 정기모임 #128 | 정기 | 경주 | 8/10 | 모집중 | ... |
| 1/28   | 토론모임: 데미안 | 토론 | 포항 | 12/12 | 마감 | ... |
+----------------------------------------------------------+
| < 1 2 3 4 5 >                                            |
+----------------------------------------------------------+
```

#### Scenario (검증 기준)

:red_circle: **SC-M15-001: 모임 목록 조회**
- Given: 운영자가 모임 관리 페이지에 접근
- When: 페이지 로드 완료
- Then: 최신 모임이 상단에 위치한 목록 표시, 페이지당 20개

:red_circle: **SC-M15-002: 상태별 필터 동작**
- Given: 모임 목록 화면
- When: "예정" 탭 클릭
- Then: status='open' AND datetime > NOW() 인 모임만 표시

:yellow_circle: **SC-M15-003: 복합 필터 동작**
- Given: 모임 목록 화면
- When: 지역="경주", 유형="정기" 선택
- Then: 경주 지역의 정기모임만 표시

:yellow_circle: **SC-M15-004: 모임명 검색**
- Given: 모임 목록 화면
- When: 검색창에 "데미안" 입력
- Then: 제목에 "데미안"이 포함된 모임만 표시

#### 사용자 가치
> "원하는 모임을 빠르게 찾아 관리할 수 있다"

---

### Phase 15.2: 모임 생성 + 복제

**목표:** 새 모임을 빠르게 생성하고, 기존 모임을 복제하여 반복 작업을 최소화

**예상 소요:** 3~4일

#### 작업 목록

| # | 작업 | 산출물 | 완료 기준 |
|---|------|--------|----------|
| 15.2.1 | 모임 생성 페이지 | `/admin/meetings/new/page.tsx` | 모든 필드 입력 가능 |
| 15.2.2 | 모임 유형 선택 | RadioGroup 컴포넌트 | 정기/토론 선택 |
| 15.2.3 | 일시 선택 | DateTimePicker 컴포넌트 | 날짜+시간 선택 |
| 15.2.4 | 장소 입력/선택 | Combobox 컴포넌트 | 기존 장소 자동완성 |
| 15.2.5 | 정원/참가비 입력 | NumberInput 컴포넌트 | 숫자 검증 |
| 15.2.6 | 환불 규정 자동 연결 | 자동 선택 로직 | 유형별 환불 규정 연결 |
| 15.2.7 | 썸네일 업로드 | ImageUpload 컴포넌트 | Supabase Storage 연동 |
| 15.2.8 | 모임 설명 입력 | Textarea 컴포넌트 | 마크다운 미리보기 (선택) |
| 15.2.9 | 모임 생성 API | `POST /api/admin/meetings` | 생성 성공 응답 |
| 15.2.10 | 모임 복제 기능 | 복제 버튼 + 로직 | 기존 모임 설정 복사 |
| 15.2.11 | 복제 시 날짜 선택 모달 | DatePickerModal | 날짜만 변경 |
| 15.2.12 | 모임 수정 페이지 | `/admin/meetings/[id]/edit/page.tsx` | 기존 값 로드 및 수정 |
| 15.2.13 | 모임 삭제 기능 | DeleteConfirmModal | 참가자 여부 경고 |

#### 모임 생성 폼 구조

```typescript
// 모임 생성 요청 타입
interface CreateMeetingRequest {
  title: string;
  meeting_type: 'regular' | 'discussion';
  datetime: string;  // ISO 8601
  location: string;
  capacity: number;
  fee: number;
  description?: string;
  thumbnail_url?: string;
  // refund_policy_id는 meeting_type에 따라 자동 결정
}

// 환불 규정 자동 연결 로직
const getRefundPolicyId = (type: MeetingType) => {
  return type === 'regular'
    ? 'regular-meeting-policy-id'  // DB에서 조회
    : 'discussion-meeting-policy-id';
};
```

#### 모임 복제 Flow

```
1. 기존 모임 상세에서 [복제] 버튼 클릭
2. 날짜 선택 모달 표시
3. 새 날짜 선택
4. 기존 모임의 title, type, location, capacity, fee, description 복사
5. datetime만 새 값으로 설정
6. 썸네일은 복사하지 않음 (선택적으로 재업로드)
7. 새 모임 생성
```

#### Scenario (검증 기준)

:red_circle: **SC-M15-005: 정기모임 생성**
- Given: 운영자가 모임 생성 페이지에서 정기모임 정보 입력
- When: "모임 만들기" 버튼 클릭
- Then: 모임이 생성되고, 정기모임 환불 규정이 자동 연결됨

:red_circle: **SC-M15-006: 모임 복제**
- Given: 기존 정기모임 상세 페이지
- When: "복제" 버튼 클릭 후 새 날짜(2/6) 선택
- Then: 기존 모임과 동일한 설정의 새 모임이 2/6 일시로 생성됨

:red_circle: **SC-M15-007: 5분 이내 모임 생성**
- Given: 운영자가 새 모임 생성 시작
- When: 모든 필수 정보 입력 완료
- Then: 총 소요 시간 5분 이내

:yellow_circle: **SC-M15-008: 썸네일 업로드**
- Given: 모임 생성 폼에서 썸네일 영역 클릭
- When: 이미지 파일 선택 (JPEG/PNG, 2MB 이하)
- Then: 이미지 미리보기 표시, Supabase Storage에 업로드

:yellow_circle: **SC-M15-009: 참가자 있는 모임 삭제 경고**
- Given: 참가자가 3명 있는 모임의 삭제 버튼 클릭
- When: 삭제 확인 모달 표시
- Then: "3명의 참가자가 있습니다. 삭제하면 신청이 모두 취소됩니다." 경고 표시

:green_circle: **SC-M15-010: 장소 자동완성**
- Given: 모임 생성 폼에서 장소 입력
- When: "경주"를 입력
- Then: 기존에 사용된 "경주 독서카페", "경주 시립도서관" 등 제안 표시

#### 사용자 가치
> "다음 주 정기모임을 5분 이내에 만들 수 있고, 기존 모임을 복제해서 더 빠르게 생성할 수 있다"

---

### Phase 15.3: 참가자 명단 + 출석부

**목표:** 모임별 참가자를 한눈에 파악하고 출석 체크 가능

**예상 소요:** 3일

#### 작업 목록

| # | 작업 | 산출물 | 완료 기준 |
|---|------|--------|----------|
| 15.3.1 | 모임 상세 페이지 | `/admin/meetings/[id]/page.tsx` | 모임 정보 + 참가자 탭 |
| 15.3.2 | 참가자 목록 컴포넌트 | `ParticipantList.tsx` | 결제 상태별 구분 |
| 15.3.3 | 상태별 탭 구현 | Tabs 컴포넌트 | 확정/대기/취소 탭 |
| 15.3.4 | 참가자 검색 | SearchInput | 이름/연락처 검색 |
| 15.3.5 | 출석부 UI | 체크박스 리스트 | 출석 체크 가능 |
| 15.3.6 | 출석 상태 저장 | `PATCH /api/admin/registrations/[id]` | attendance 필드 업데이트 |
| 15.3.7 | 일괄 출석 처리 | 체크박스 + 버튼 | 선택한 참가자 일괄 출석 처리 |
| 15.3.8 | 참가자 상세 모달 | Modal 컴포넌트 | 연락처, 결제 정보 표시 |

#### 참가자 목록 UI

```
+----------------------------------------------------------+
| 정기모임 #128 - 2026.01.30 19:00 @ 경주 독서카페           |
+----------------------------------------------------------+
| [확정 8명] [입금대기 2명] [취소 1명]                       |
+----------------------------------------------------------+
| [참가자 검색...]                [전체 선택] [출석 처리]    |
+----------------------------------------------------------+
| [ ] | 김지독 | 010-1234-5678 | 카드결제 | 1/25 확정      |
| [ ] | 이독서 | 010-2345-6789 | 계좌이체 | 1/26 확정      |
| [v] | 박책장 | 010-3456-7890 | 카드결제 | 1/24 확정 | 출석 |
+----------------------------------------------------------+
```

#### Scenario (검증 기준)

:red_circle: **SC-M15-011: 참가자 목록 조회**
- Given: 운영자가 모임 상세 페이지 접근
- When: 참가자 탭 클릭
- Then: 결제 상태별로 구분된 참가자 목록 표시

:red_circle: **SC-M15-012: 출석 체크**
- Given: 모임 당일 참가자 목록 화면
- When: 참가자 체크박스 선택 후 "출석 처리" 클릭
- Then: 해당 참가자의 participation_status가 'completed'로 변경

:yellow_circle: **SC-M15-013: 참가자 검색**
- Given: 참가자 목록 화면
- When: 검색창에 "김지독" 입력
- Then: 이름에 "김지독"이 포함된 참가자만 표시

:yellow_circle: **SC-M15-014: 참가자 상세 조회**
- Given: 참가자 목록에서 이름 클릭
- When: 모달 표시
- Then: 연락처, 결제 방식, 결제 금액, 신청 일시 표시

#### 사용자 가치
> "모임 당일 누가 왔는지 빠르게 체크하고, 참가자 정보를 즉시 확인할 수 있다"

---

### Phase 15.4: 강제 신청/취소 + 노쇼 처리

**목표:** 예외 상황(현장 현금 결제, 관리자 판단 취소 등)을 처리하고, 모임 종료 후 노쇼를 기록

**예상 소요:** 3~4일

#### 작업 목록

| # | 작업 | 산출물 | 완료 기준 |
|---|------|--------|----------|
| 15.4.1 | 강제 신청 버튼 | ActionButton | 참가자 추가 트리거 |
| 15.4.2 | 회원 검색 모달 | MemberSearchModal | 회원 선택 UI |
| 15.4.3 | 강제 신청 API | `POST /api/admin/registrations/force` | 결제 없이 등록 생성 |
| 15.4.4 | 결제 방식 선택 | RadioGroup | 현금/무료 선택 |
| 15.4.5 | 강제 취소 버튼 | ActionButton | 취소 처리 트리거 |
| 15.4.6 | 취소 사유 입력 모달 | Modal + Textarea | 사유 필수 입력 |
| 15.4.7 | 강제 취소 API | `DELETE /api/admin/registrations/[id]` | 상태 변경 + 사유 기록 |
| 15.4.8 | 노쇼 마킹 버튼 | ActionButton | 개별 노쇼 처리 |
| 15.4.9 | 일괄 노쇼 처리 | 체크박스 + 버튼 | 선택한 참가자 일괄 노쇼 |
| 15.4.10 | 노쇼 API | `PATCH /api/admin/registrations/[id]/noshow` | participation_status 변경 |
| 15.4.11 | 노쇼 기록 조회 | 회원 상세 연동 | M16에서 활용 |
| 15.4.12 | 모임 정리 체크리스트 | UI 컴포넌트 | 노쇼/출석 미처리 알림 |

#### 강제 신청 Flow

```
1. 참가자 목록에서 [+ 참가자 추가] 버튼 클릭
2. 회원 검색 모달 표시
3. 회원 선택 (이름/연락처 검색)
4. 결제 방식 선택:
   - 현장 현금: payment_method='cash', payment_status='paid'
   - 무료 참가: payment_method='free', payment_status=null
5. 신청 생성 (status='confirmed')
6. current_participants 증가
```

#### 노쇼 처리 Flow

```
1. 모임 종료 후 참가자 목록 접근
2. 출석하지 않은 참가자 선택
3. [노쇼 처리] 버튼 클릭
4. 확인 모달 표시
5. participation_status = 'no_show' 업데이트
6. users.no_show_count 증가 (M16에서 조회용)
```

#### Scenario (검증 기준)

:red_circle: **SC-M15-015: 현장 현금 결제 처리**
- Given: 모임 당일 현장에서 현금 결제한 회원 발생
- When: 운영자가 [+ 참가자 추가] 클릭, 회원 검색, "현장 현금" 선택 후 등록
- Then: 해당 회원이 confirmed 상태로 참가자 목록에 추가됨

:red_circle: **SC-M15-016: 강제 취소 (사유 필수)**
- Given: 참가자 목록에서 특정 회원의 취소 버튼 클릭
- When: 취소 사유 입력 모달에서 "개인 사정으로 운영자 요청" 입력 후 확인
- Then: 신청이 취소되고, cancel_reason에 사유 기록, current_participants 감소

:red_circle: **SC-M15-017: 노쇼 처리**
- Given: 모임 종료 후 출석하지 않은 참가자 존재
- When: 해당 참가자 선택 후 [노쇼 처리] 클릭
- Then: participation_status = 'no_show'로 변경

:red_circle: **SC-M15-018: 10분 이내 모임 정리**
- Given: 10명 참가 모임 종료
- When: 출석자 8명 체크, 노쇼 2명 처리
- Then: 총 소요 시간 10분 이내

:yellow_circle: **SC-M15-019: 일괄 노쇼 처리**
- Given: 출석하지 않은 참가자 3명 선택
- When: [일괄 노쇼 처리] 버튼 클릭
- Then: 선택된 3명 모두 노쇼 처리됨

#### 사용자 가치
> "예외 상황을 유연하게 처리하고, 모임 종료 후 10분 안에 정리를 마칠 수 있다"

---

### Phase 15.5: 대기자 관리

**목표:** 정원 초과 시 대기자를 효율적으로 관리하고 자리 배정

**예상 소요:** 2~3일

#### 작업 목록

| # | 작업 | 산출물 | 완료 기준 |
|---|------|--------|----------|
| 15.5.1 | 대기자 탭 구현 | Tab 컴포넌트 | 참가자 목록에 대기자 탭 추가 |
| 15.5.2 | 대기 순번 표시 | 순번 컬럼 | 등록 순서대로 번호 표시 |
| 15.5.3 | 대기자 목록 컴포넌트 | `WaitlistTable.tsx` | 대기 중/알림발송/만료 구분 |
| 15.5.4 | 수동 알림 발송 버튼 | ActionButton | 개별 대기자에게 알림 |
| 15.5.5 | 알림 발송 API 연동 | M3 알림 시스템 활용 | 대기자 자리 발생 알림 |
| 15.5.6 | 자리 배정 버튼 | ActionButton | 대기자를 참가자로 전환 |
| 15.5.7 | 자리 배정 확인 모달 | Modal | 결제 방식 선택 (기존 결제/현금) |
| 15.5.8 | 자리 배정 API | `POST /api/admin/waitlist/[id]/assign` | 대기자 -> 참가자 전환 |
| 15.5.9 | 대기 만료 처리 | 자동/수동 만료 | 응답 시간 초과 시 상태 변경 |
| 15.5.10 | 대기자 삭제 | 삭제 버튼 + API | 대기 취소 처리 |

#### 대기자 관리 UI

```
+----------------------------------------------------------+
| [확정 10명] [입금대기 0명] [취소 1명] [대기 3명]           |
+----------------------------------------------------------+
| 대기자 목록                                               |
+----------------------------------------------------------+
| # | 이름 | 연락처 | 등록일 | 상태 | 액션                  |
+----------------------------------------------------------+
| 1 | 최대기 | 010-1111-2222 | 1/25 | 대기중 | [알림] [배정] |
| 2 | 정순서 | 010-2222-3333 | 1/26 | 알림발송 | [배정]     |
| 3 | 한기다 | 010-3333-4444 | 1/27 | 대기중 | [알림] [배정] |
+----------------------------------------------------------+
```

#### 자리 배정 Flow

```
1. 참가자 취소로 자리 발생
2. 대기자 탭에서 1순위 대기자 확인
3. [알림 발송] 버튼 클릭 -> 알림톡 발송
4. 대기자가 응답하면:
   - 결제 완료 시: [자리 배정] 클릭 -> 참가자로 전환
   - 응답 없음 시: 24시간 후 자동 만료 -> 다음 순위에게 알림
5. 또는 운영자가 직접 [자리 배정] 클릭하여 수동 배정
```

#### Scenario (검증 기준)

:red_circle: **SC-M15-020: 대기자 목록 조회**
- Given: 정원이 마감된 모임에 대기자 3명 존재
- When: 모임 상세 > 대기자 탭 클릭
- Then: 등록 순서대로 1,2,3 순번이 표시된 대기자 목록

:red_circle: **SC-M15-021: 대기자에게 수동 알림 발송**
- Given: 참가자 취소로 자리 발생
- When: 1순위 대기자의 [알림 발송] 버튼 클릭
- Then: 해당 대기자에게 "자리가 생겼습니다" 알림톡 발송, 상태가 "알림발송"으로 변경

:red_circle: **SC-M15-022: 대기자 자리 배정**
- Given: 대기자가 결제를 완료하고 운영자에게 연락
- When: [자리 배정] 버튼 클릭 후 "기존 결제 확인" 선택
- Then: 대기자가 참가자로 전환되고, waitlist에서 삭제됨

:yellow_circle: **SC-M15-023: 대기 응답 시간 초과**
- Given: 대기자에게 알림 발송 후 24시간 경과
- When: 응답 없음
- Then: 상태가 "만료"로 변경, 다음 순위 대기자에게 알림 가능

:yellow_circle: **SC-M15-024: 대기자 직접 취소**
- Given: 대기자 목록에서 특정 대기자
- When: [삭제] 버튼 클릭 후 확인
- Then: 대기 목록에서 제거, 순번 재정렬

#### 사용자 가치
> "대기자를 순서대로 관리하고, 자리가 생기면 빠르게 알림을 보내 배정할 수 있다"

---

## 4. 기술 검토 사항

| 항목 | 내용 | 참고 |
|------|------|------|
| 썸네일 저장 | Supabase Storage `meeting-thumbnails` 버킷 | 2MB 제한, JPEG/PNG |
| 환불 규정 연결 | meeting_type별 refund_policy_id 자동 결정 | DB에서 조회 |
| 동시성 제어 | 강제 신청 시 정원 체크 트랜잭션 | FOR UPDATE 락 |
| 노쇼 기록 | registrations.participation_status + audit_log | M16 회원 관리에서 조회 |
| 알림 발송 | M3 알림 시스템 연동 | waitlist_notification 템플릿 |

---

## 5. DB 스키마 확장

```sql
-- meetings 테이블 확장 (선택적)
ALTER TABLE meetings ADD COLUMN thumbnail_url TEXT;
ALTER TABLE meetings ADD COLUMN region VARCHAR(20) DEFAULT 'gyeongju'; -- 경주/포항

-- registrations 확장 (강제 신청용)
-- 기존 payment_method에 'cash', 'free' 옵션 추가
-- payment_method: 'card' | 'transfer' | 'cash' | 'free'

-- 변경 이력 기록 (audit_log 활용)
-- admin_audit_logs 테이블에 기록:
-- - force_registration: 강제 신청
-- - force_cancellation: 강제 취소 (cancel_reason 포함)
-- - no_show_marked: 노쇼 처리
-- - waitlist_assigned: 대기자 배정
```

---

## 6. 파일 구조

```
/app/admin/meetings
├── page.tsx                    # 모임 목록 페이지
├── new/
│   └── page.tsx               # 모임 생성 페이지
├── [id]/
│   ├── page.tsx               # 모임 상세 (참가자 명단)
│   └── edit/
│       └── page.tsx           # 모임 수정 페이지

/components/admin/meetings
├── MeetingList.tsx            # 모임 목록 테이블
├── MeetingFilters.tsx         # 필터 컴포넌트
├── MeetingForm.tsx            # 생성/수정 폼
├── MeetingCloneModal.tsx      # 복제 모달
├── ParticipantList.tsx        # 참가자 목록
├── ParticipantDetailModal.tsx # 참가자 상세
├── ForceRegistrationModal.tsx # 강제 신청 모달
├── ForceCancelModal.tsx       # 강제 취소 모달
├── NoShowConfirmModal.tsx     # 노쇼 확인 모달
├── WaitlistTable.tsx          # 대기자 목록
├── WaitlistAssignModal.tsx    # 자리 배정 모달

/app/api/admin/meetings
├── route.ts                   # GET (목록), POST (생성)
└── [id]/
    ├── route.ts              # GET (상세), PATCH (수정), DELETE (삭제)
    └── clone/
        └── route.ts          # POST (복제)

/app/api/admin/registrations
├── force/
│   └── route.ts              # POST (강제 신청)
├── [id]/
│   ├── route.ts             # PATCH (수정), DELETE (강제 취소)
│   └── noshow/
│       └── route.ts         # PATCH (노쇼 처리)

/app/api/admin/waitlist
└── [id]/
    ├── assign/
    │   └── route.ts         # POST (자리 배정)
    └── notify/
        └── route.ts         # POST (알림 발송)
```

---

## 7. 전체 완료 검증

### Phase 15.1 완료 조건
- [ ] 모임 목록 페이지 정상 렌더링
- [ ] 상태/지역/유형 필터 동작
- [ ] 검색 및 정렬 동작
- [ ] 페이지네이션 동작

### Phase 15.2 완료 조건
- [ ] 모임 생성 폼 모든 필드 동작
- [ ] 환불 규정 자동 연결
- [ ] 썸네일 업로드 및 미리보기
- [ ] 모임 복제 기능 동작
- [ ] 모임 수정/삭제 동작

### Phase 15.3 완료 조건
- [ ] 결제 상태별 참가자 목록 표시
- [ ] 참가자 검색 동작
- [ ] 출석 체크 및 저장
- [ ] 참가자 상세 모달

### Phase 15.4 완료 조건
- [ ] 강제 신청 (현금/무료) 동작
- [ ] 강제 취소 (사유 입력) 동작
- [ ] 노쇼 처리 (개별/일괄) 동작
- [ ] audit_log 기록 확인

### Phase 15.5 완료 조건
- [ ] 대기자 목록 순번 표시
- [ ] 수동 알림 발송 동작
- [ ] 자리 배정 동작
- [ ] 대기 만료/삭제 처리

### 전체 M15 완료 조건
- [ ] 모든 Phase 완료
- [ ] 모든 Scenario 통과
- [ ] 다음 주 정기모임 생성 5분 이내 달성
- [ ] 모임 종료 후 정리 10분 이내 달성
- [ ] TypeScript 에러 0개
- [ ] 빌드 성공
- [ ] main 머지 완료

---

## 8. 의존성 다이어그램

```
[M14 완료: 결제 운영]
├── 입금 확인 시스템
├── 환불 처리 시스템
└── 결제 상태 관리
    |
    v
[Phase 15.1] 모임 목록 + 필터
    |
    v
[Phase 15.2] 모임 생성 + 복제
    |
    v
[Phase 15.3] 참가자 명단 + 출석부 (Phase 15.2 완료 후)
    |
    v
[Phase 15.4] 강제 신청/취소 + 노쇼 (Phase 15.3 완료 후)
    |
    v
[Phase 15.5] 대기자 관리 (Phase 15.4와 병행 가능)
    |
    v
[M15 완료] -> M16 시작 가능 (회원 관리)
```

---

## 9. 위험 관리

| 위험 | 영향 | 대응 방안 |
|------|------|----------|
| 썸네일 업로드 실패 | 모임 생성 지연 | 썸네일 선택적, 기본 이미지 제공 |
| 강제 신청 시 정원 초과 | 데이터 정합성 오류 | 트랜잭션 + FOR UPDATE 락 |
| 노쇼 처리 누락 | 회원 통계 부정확 | 모임 정리 체크리스트 알림 |
| 대기자 알림 발송 실패 | 자리 배정 지연 | 재발송 버튼, 발송 상태 표시 |
| 복제 시 데이터 누락 | 불완전한 모임 생성 | 복제 필드 명시적 정의 |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-28 | 1.0 | 최초 작성 |
