# Work Packages 요약

---

**문서 버전:** 1.0  
**작성일:** 2026-01-14  
**관련 문서:** [milestones.md](../milestones.md)

---

## 1. 개요

이 폴더는 각 Milestone을 실행 가능한 단위인 **Work Package(WP)** 로 분해한 문서를 포함합니다.

### 설계 원칙

1. **Vertical Slicing**: 각 Phase가 사용자 가치를 전달하도록 구성
2. **완결성**: 각 Phase가 끝나면 소프트웨어는 "동작하는" 상태
3. **의존성 명확화**: Phase 간 순서와 선행 조건 정의
4. **AI 에이전트 친화적**: 명확한 작업 목록과 완료 기준

---

## 2. Work Package 목록

| Milestone | Work Package | 기간 | Phase 수 | 핵심 가치 |
|-----------|--------------|------|----------|----------|
| M1 | [WP-M1-기반구축.md](./WP-M1-기반구축.md) | 1~2주 | 4 | 쉬운 연결 (기반) |
| M2 | [WP-M2-핵심결제흐름.md](./WP-M2-핵심결제흐름.md) | 2~3주 | 5 | 쉬운 연결, 신뢰 |
| M3 | [WP-M3-알림시스템.md](./WP-M3-알림시스템.md) | 1~2주 | 4 | 잊지 않게 |
| M4 | [WP-M4-소속감기능.md](./WP-M4-소속감기능.md) | 2~3주 | 5 | 소속감 |
| M5 | [WP-M5-운영자도구.md](./WP-M5-운영자도구.md) | 2주 | 4 | 신뢰 (운영 관점) |
| M6 | [WP-M6-신규회원-출시.md](./WP-M6-신규회원-출시.md) | 2주 | 4 | 모든 가치 완성 |

**총 Phase 수:** 26개  
**예상 총 기간:** 12~14주

---

## 3. 전체 Phase 흐름

```
M1: 프로젝트 기반 구축 (4 Phase)
├── P1: 인프라 & 프로젝트 초기화 ─── [빈 페이지 배포됨]
├── P2: 데이터베이스 & 인증 ──────── [회원가입/로그인 동작]
├── P3: 모임 조회 UI ──────────────── [모임 목록 표시]
└── P4: 운영자 모임 관리 ─────────── [모임 CRUD 가능]
         ↓
M2: 핵심 결제 흐름 (5 Phase)
├── P1: 카카오 로그인 ────────────── [카카오 로그인 동작]
├── P2: 결제 연동 (포트원) ─────────── [결제 동작]
├── P3: 취소/환불 ──────────────────── [자동 환불]
├── P4: 대기 시스템 ─────────────────── [대기 등록]
└── P5: 실시간 상태 & 마이페이지 ──── [실시간 반영]
         ↓ [Alpha 테스트]
         ↓
    ┌────┴────┐
    ↓         ↓
M3: 알림 시스템 (4 Phase)          M4: 소속감 기능 (5 Phase)
├── P1: 알림 인프라 (솔라피)         ├── P1: 참여 완료 시스템
├── P2: 모임 리마인드 자동화         ├── P2: 칭찬하기 & 후기
├── P3: 대기자 알림 자동화           ├── P3: 배지 시스템
└── P4: 월말 독려 & 세그먼트별 알림 & 수동 발송        ├── P4: 마이페이지 강화
                                    └── P5: 책장 & 참가자 목록
    ↓         ↓                              ↓ [Beta 테스트]
    └────┬────┘
         ↓
M5: 운영자 도구 (4 Phase)
├── P1: 대시보드 ────────────────────── [통계 확인]
├── P2: 알림 템플릿 관리 ──────────── [문구 수정]
├── P3: 권한 관리 ───────────────────── [권한 부여]
└── P4: 요청함 & 배너 관리 ─────────── [문의 답변]
         ↓
M6: 신규 회원 & 출시 (4 Phase)
├── P1: 후킹 랜딩페이지 ───────────── [브랜드 페이지]
├── P2: 신규 회원 플로우 ─────────── [온보딩]
├── P3: 자격 체크 & 유도 ──────────── [규정 적용]
└── P4: 안정화 & 출시 ────────────── [🎉 정식 출시]
```

---

## 4. 테스트 마일스톤

| 시점 | 테스트 유형 | 대상 | 목적 |
|------|-------------|------|------|
| M2 완료 | Alpha | 운영자 + 친한 회원 3~5명 | 핵심 결제 흐름 검증 |
| M4 완료 | Beta | 활성 회원 20~30명 | 실제 모임에 적용 |
| M6 완료 | 정식 출시 | 전체 회원 (250명) | 기존 프로세스 대체 |

---

## 5. 데이터베이스 테이블 생성 순서

Work Package에서 생성되는 테이블 순서:

```
M1-P2: users, meetings, registrations, refund_policies
M2-P4: waitlists
M3-P1: notification_logs
M3-P2: (Cron 설정)
M4-P2: praises, reviews
M4-P3: badges, user_badges
M4-P5: bookshelf
M5-P2: notification_templates
M5-P3: admin_permissions
M5-P4: banners, (suggestions 수정)
```

---

## 6. 외부 연동 순서

| Milestone | Phase | 외부 서비스 | 연동 내용 |
|-----------|-------|------------|----------|
| M1-P1 | Supabase | 프로젝트 생성, DB 연결 |
| M1-P1 | Vercel | 배포 파이프라인 |
| M2-P1 | 카카오 | OAuth 로그인 |
| M2-P2 | 포트원 | 결제/환불 API |
| M3-P1 | 솔라피 | 알림톡 발송 |
| M3-P1 | 카카오 비즈니스 | 알림톡 템플릿 승인 |
| M6-P4 | Sentry | 에러 모니터링 |

---

## 7. AI 에이전트 개발 가이드

### 각 Phase 작업 시 체크 포인트

1. **작업 전**
   - 선행 조건 확인
   - 필요한 테이블 확인
   - 외부 연동 준비 상태 확인

2. **작업 중**
   - 작업 목록 순서대로 진행
   - 완료 기준 하나씩 체크
   - 타입 안전성 유지

3. **작업 후**
   - 완료 검증 포인트 전체 확인
   - 다음 Phase 시작 가능 여부 확인
   - 동작하는 상태 확인

### 공통 주의사항

| 항목 | 가이드 |
|------|--------|
| 모바일 우선 | 360px에서 먼저 확인 |
| 환불 규정 | 하드코딩 금지, DB에서 관리 |
| 알림 서비스 | 추상화 레이어 필수 |
| 동시성 | 결제/정원 체크 시 트랜잭션 |
| 칭찬 중복 | 모임당 1명, 3개월 동일인 |
| 권한 관리 | RLS + 미들웨어 조합 |

---

## 8. 빠른 참조

### 주요 API 엔드포인트 (예정)

| 기능 | 메서드 | 경로 | Milestone |
|------|--------|------|----------|
| 모임 목록 | GET | `/api/meetings` | M1 |
| 모임 상세 | GET | `/api/meetings/[id]` | M1 |
| 모임 CRUD | POST/PUT/DELETE | `/api/admin/meetings` | M1 |
| 결제 준비 | POST | `/api/payments/prepare` | M2 |
| 결제 웹훅 | POST | `/api/payments/webhook` | M2 |
| 환불 요청 | POST | `/api/payments/refund` | M2 |
| 대기 등록 | POST | `/api/waitlists` | M2 |
| 알림 발송 (수동) | POST | `/api/admin/notifications` | M3 |
| 칭찬 저장 | POST | `/api/praises` | M4 |
| 후기 저장 | POST | `/api/reviews` | M4 |
| 책장 등록 | POST | `/api/bookshelf` | M4 |
| 대시보드 통계 | GET | `/api/admin/stats` | M5 |
| 템플릿 수정 | PUT | `/api/admin/templates/[id]` | M5 |
| 공개 후기 | GET | `/api/reviews/public` | M6 |

### 주요 페이지 경로 (예정)

| 페이지 | 경로 | Milestone |
|--------|------|----------|
| 홈 | `/` | M1 |
| 모임 상세 | `/meetings/[id]` | M1 |
| 마이페이지 | `/mypage` | M1 |
| 로그인 | `/auth/login` | M1 |
| 회원가입 | `/auth/signup` | M1 |
| 피드백 선택 | `/meetings/[id]/feedback` | M4 |
| 칭찬하기 | `/meetings/[id]/praise` | M4 |
| 후기 작성 | `/meetings/[id]/review` | M4 |
| 내 책장 | `/mypage/bookshelf` | M4 |
| 운영자 대시보드 | `/admin/dashboard` | M5 |
| 모임 관리 | `/admin/meetings` | M1 |
| 알림 템플릿 | `/admin/templates` | M5 |
| 권한 관리 | `/admin/permissions` | M5 |
| 후킹 랜딩페이지 | `/about` | M6 |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-14 | 1.0 | Work Packages README 최초 작성 |

