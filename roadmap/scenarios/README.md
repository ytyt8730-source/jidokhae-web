# Scenarios 요약

---

**문서 버전:** 1.0  
**작성일:** 2026-01-14  
**관련 문서:** [work-packages/](../work-packages/)

---

## 1. 개요

이 폴더는 각 Work Package를 **Scenario**로 분해한 문서를 포함합니다.

### 설계 원칙

```
하나의 Scenario = 하나의 행동 = 하나의 검증
```

- **Given:** 사전 상태/조건
- **When:** 실행할 행동
- **Then:** 기대 결과
- **선행 Scenario:** 의존성

---

## 2. Scenario 문서 목록

| Milestone | 파일 | Scenario 수 | 성공 | 실패 |
|-----------|------|------------|------|------|
| M1 | [SC-M1-기반구축.md](./SC-M1-기반구축.md) | 39 | 33 | 6 |
| M2 | [SC-M2-핵심결제흐름.md](./SC-M2-핵심결제흐름.md) | 51 | 42 | 9 |
| M3 | [SC-M3-알림시스템.md](./SC-M3-알림시스템.md) | 38 | 33 | 5 |
| M4 | [SC-M4-소속감기능.md](./SC-M4-소속감기능.md) | 47 | 42 | 5 |
| M5 | [SC-M5-운영자도구.md](./SC-M5-운영자도구.md) | 39 | 36 | 3 |
| M6 | [SC-M6-신규회원-출시.md](./SC-M6-신규회원-출시.md) | 45 | 42 | 3 |
| **총계** | | **259** | **228** | **31** |

---

## 3. Scenario 번호 체계

```
Scenario [Milestone]-[순번]: [행동 기반 명칭]
```

**예시:**
- `M1-001`: M1의 첫 번째 Scenario
- `M2-015`: M2의 15번째 Scenario

---

## 4. Phase별 Scenario 분포

### M1: 프로젝트 기반 구축

| Phase | 설명 | Scenario 수 |
|-------|------|------------|
| Phase 1 | 인프라 & 프로젝트 초기화 | 8 |
| Phase 2 | 데이터베이스 & 인증 | 14 |
| Phase 3 | 모임 조회 UI | 10 |
| Phase 4 | 운영자 모임 관리 | 7 |

### M2: 핵심 결제 흐름

| Phase | 설명 | Scenario 수 |
|-------|------|------------|
| Phase 1 | 카카오 로그인 | 6 |
| Phase 2 | 결제 연동 (포트원) | 15 |
| Phase 3 | 취소/환불 | 11 |
| Phase 4 | 대기 시스템 | 8 |
| Phase 5 | 실시간 상태 & 마이페이지 | 11 |

### M3: 알림 시스템

| Phase | 설명 | Scenario 수 |
|-------|------|------------|
| Phase 1 | 알림 인프라 구축 (솔라피) | 8 |
| Phase 2 | 모임 리마인드 자동화 | 9 |
| Phase 3 | 대기자 알림 자동화 | 9 |
| Phase 4 | 월말 독려 & 세그먼트별 알림 & 운영자 수동 발송 | 12 |

### M4: 소속감 기능

| Phase | 설명 | Scenario 수 |
|-------|------|------------|
| Phase 1 | 참여 완료 시스템 | 8 |
| Phase 2 | 칭찬하기 & 후기 | 14 |
| Phase 3 | 배지 시스템 | 7 |
| Phase 4 | 마이페이지 강화 | 8 |
| Phase 5 | 책장 & 참가자 목록 | 10 |

### M5: 운영자 도구

| Phase | 설명 | Scenario 수 |
|-------|------|------------|
| Phase 1 | 대시보드 | 10 |
| Phase 2 | 알림 템플릿 관리 | 8 |
| Phase 3 | 권한 관리 | 10 |
| Phase 4 | 요청함 & 배너 관리 | 11 |

### M6: 신규 회원 & 출시

| Phase | 설명 | Scenario 수 |
|-------|------|------------|
| Phase 1 | 후킹 랜딩페이지 | 10 |
| Phase 2 | 신규 회원 플로우 | 11 |
| Phase 3 | 자격 체크 & 유도 | 8 |
| Phase 4 | 안정화 & 출시 | 16 |

---

## 5. 주요 의존성 체인

### 핵심 의존성

```
M1-016 (회원가입)
    ↓
M1-019 (로그인)
    ↓
M2-014 (결제 완료)
    ↓
M4-003 (참여 완료)
    ↓
M6-019 (기존 회원 전환)
```

### 알림 의존성

```
M3-001 (솔라피 설정)
    ↓
M3-006 (테스트 발송)
    ↓
M3-011 (리마인드 발송)
```

### 운영자 의존성

```
M1-033 (운영자 페이지 접근)
    ↓
M5-001 (대시보드)
    ↓
M5-020 (권한 관리)
```

---

## 6. 실패 케이스 요약

### 인증 관련

| Scenario | 실패 조건 |
|----------|----------|
| M1-017 | 중복 이메일 |
| M1-018 | 약한 비밀번호 |
| M1-020 | 잘못된 비밀번호 |
| M1-022 | 비로그인 보호 페이지 접근 |
| M1-034 | 일반 회원 운영자 페이지 접근 |

### 결제/환불 관련

| Scenario | 실패 조건 |
|----------|----------|
| M2-010 | 6개월 자격 미충족 |
| M2-012 | 정원 마감 |
| M2-018 | 결제 사용자 취소 |
| M2-019 | 잔액 부족 |
| M2-020 | 동시성 (2명 중 1명 실패) |
| M2-021 | 중복 신청 |
| M2-029 | 취소 사유 미입력 |
| M2-032 | 환불 API 실패 |

### 칭찬/배지 관련

| Scenario | 실패 조건 |
|----------|----------|
| M4-014 | 모임당 중복 칭찬 |
| M4-015 | 3개월 내 동일인 칭찬 |
| M4-021 | 중복 후기 작성 |
| M4-041 | 같은 책 중복 등록 |

### 권한 관련

| Scenario | 실패 조건 |
|----------|----------|
| M5-021 | admin 권한 관리 접근 |
| M5-024 | 권한 없는 기능 접근 |
| M3-034 | 수동 발송 권한 없음 |

---

## 7. AI 에이전트 개발 가이드

### Scenario 기반 개발 순서

1. **선행 Scenario 확인**
   - 해당 Scenario의 선행 조건 확인
   - 선행 Scenario가 통과되었는지 검증

2. **Given 상태 구성**
   - 테스트 데이터 준비
   - 환경 설정

3. **When 행동 구현**
   - API 엔드포인트 구현
   - UI 컴포넌트 구현

4. **Then 검증 구현**
   - 단위 테스트 작성
   - E2E 테스트 작성

### 테스트 우선순위

1. **필수 (Critical Path)**
   - M1-016: 회원가입
   - M1-019: 로그인
   - M2-014: 결제 완료
   - M2-024: 환불

2. **중요 (High)**
   - M3-011: 리마인드 발송
   - M4-003: 참여 완료
   - M5-001: 대시보드

3. **보통 (Medium)**
   - M4-012: 칭찬하기
   - M4-039: 책 등록
   - M5-034: 배너 등록

---

## 8. 검증 체크리스트

### Alpha 테스트 필수 통과

| Scenario | 설명 | 상태 |
|----------|------|------|
| M1-016 | 회원가입 | ⬜ |
| M1-019 | 로그인 | ⬜ |
| M2-014 | 결제 완료 | ⬜ |
| M2-024 | 100% 환불 | ⬜ |
| M2-025 | 50% 환불 | ⬜ |
| M2-034 | 대기 등록 | ⬜ |

### Beta 테스트 필수 통과

| Scenario | 설명 | 상태 |
|----------|------|------|
| M3-011 | 리마인드 발송 | ⬜ |
| M3-018 | 대기자 알림 | ⬜ |
| M4-003 | 참여 완료 | ⬜ |
| M4-012 | 칭찬하기 | ⬜ |
| M4-024 | 배지 부여 | ⬜ |

### 정식 출시 필수 통과

| Scenario | 설명 | 상태 |
|----------|------|------|
| M6-031 | P0 버그 0개 | ⬜ |
| M6-032 | LCP < 2.5s | ⬜ |
| M6-034 | 에러 모니터링 | ⬜ |
| M6-037 | 전체 결제 흐름 | ⬜ |
| M6-043 | 출시 안내 발송 | ⬜ |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-14 | 1.0 | Scenarios README 최초 작성 |

